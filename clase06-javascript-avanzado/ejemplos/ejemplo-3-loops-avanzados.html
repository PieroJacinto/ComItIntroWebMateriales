<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ejemplo 3: Loops Avanzados - Clase 6</title>
    <link rel="stylesheet" href="./ejemplo-3-loops-avanzados.css">
</head>
<body>
    <div class="container">
        <!-- HEADER -->
        <div class="header">
            <h1>üîÑ LOOPS AVANZADOS en JavaScript</h1>
            <p>Aprende While y For...of loops para situaciones especiales y c√≥digo m√°s elegante</p>
        </div>

        <!-- DEMO 1: REPASO FOR TRADICIONAL -->
        <div class="demo-section">
            <h2>üìö Repaso: For Tradicional (Clase 5)</h2>
            <p>Ya conoces el for loop tradicional. Es perfecto cuando necesitas el √≠ndice o un control preciso:</p>
            
            <div class="code-block">// For tradicional - cuando necesitas el √≠ndice
let proyectos = ["Portfolio", "Blog", "Tienda"];

for (let i = 0; i < proyectos.length; i++) {
    console.log(`Proyecto ${i + 1}: ${proyectos[i]}`);
}

// Tambi√©n √∫til para rangos espec√≠ficos
for (let j = 1; j <= 5; j++) {
    console.log(`Tabla del 3: 3 x ${j} = ${3 * j}`);
}</div>

            <div class="demo-controls">
                <button class="btn" onclick="demoForTradicional()">üìö Probar For Tradicional</button>
            </div>

            <div class="console-output" id="consoleForTradicional">Presiona el bot√≥n para ver el resultado...</div>
        </div>

        <!-- DEMO 2: WHILE LOOPS -->
        <div class="demo-section">
            <h2>‚è≥ Demo 1: While Loops</h2>
            <p><strong>While</strong> es perfecto cuando <em>no sabes cu√°ntas iteraciones necesitas</em> de antemano.</p>
            
            <div class="code-block">// EJEMPLO 1: Buscar hasta encontrar algo
let nombres = ["Ana", "Carlos", "Mar√≠a", "Pedro"];
let buscando = "Mar√≠a";
let encontrado = false;
let contador = 0;

while (!encontrado && contador < nombres.length) {
    if (nombres[contador] === buscando) {
        console.log(`¬°Encontr√© a ${buscando} en la posici√≥n ${contador}!`);
        encontrado = true;
    } else {
        console.log(`Revisando: ${nombres[contador]} - no es ${buscando}`);
    }
    contador++;
}

// EJEMPLO 2: Contador hasta una condici√≥n
let puntos = 0;
let nivel = 1;

while (puntos < 100) {
    puntos += Math.floor(Math.random() * 20) + 1; // Entre 1 y 20 puntos
    console.log(`Nivel ${nivel}: ${puntos} puntos`);
    nivel++;
}
console.log(`¬°Alcanzaste 100 puntos en ${nivel - 1} niveles!`);</div>

            <div class="demo-controls">
                <button class="btn" onclick="demoWhileLoops()">‚è≥ Probar While Loops</button>
            </div>

            <div class="console-output" id="consoleWhileLoops">Presiona el bot√≥n para ver el resultado...</div>

            <div class="warning-box">
                <strong>‚ö†Ô∏è CUIDADO:</strong> Aseg√∫rate de que la condici√≥n del while eventualmente se vuelva false, o tendr√°s un bucle infinito que puede bloquear tu navegador.
            </div>
        </div>

        <!-- DEMO 3: FOR...OF LOOPS -->
        <div class="demo-section">
            <h2>‚ú® Demo 2: For...of Loops</h2>
            <p><strong>For...of</strong> es la forma m√°s elegante de iterar arrays cuando solo necesitas los valores:</p>
            
            <div class="code-block">// EJEMPLO 1: Iteraci√≥n simple y elegante
let tecnologias = ["HTML", "CSS", "JavaScript", "React"];

console.log("=== Con for...of (ELEGANTE) ===");
for (let tecnologia of tecnologias) {
    console.log(`Aprendiendo: ${tecnologia}`);
}

// EJEMPLO 2: Trabajar con objetos en arrays
let estudiantes = [
    { nombre: "Ana", nota: 85 },
    { nombre: "Carlos", nota: 92 },
    { nombre: "Mar√≠a", nota: 78 }
];

console.log("\n=== Notas de estudiantes ===");
for (let estudiante of estudiantes) {
    let estado = estudiante.nota >= 80 ? "Aprobado ‚úÖ" : "Necesita mejorar ‚ö†Ô∏è";
    console.log(`${estudiante.nombre}: ${estudiante.nota} - ${estado}`);
}

// EJEMPLO 3: Sumar todos los valores
let precios = [15.50, 23.75, 8.20, 45.00];
let total = 0;

for (let precio of precios) {
    total += precio;
}
console.log(`\nTotal de compra: $${total.toFixed(2)}`);</div>

            <div class="demo-controls">
                <button class="btn" onclick="demoForOfLoops()">‚ú® Probar For...of Loops</button>
            </div>

            <div class="console-output" id="consoleForOfLoops">Presiona el bot√≥n para ver el resultado...</div>
        </div>

        <!-- DEMO 4: COMPARACI√ìN PR√ÅCTICA -->
        <div class="demo-section">
            <h2>‚öñÔ∏è Demo 3: ¬øCu√°ndo usar cada loop?</h2>
            <p>Veamos el mismo problema resuelto con diferentes tipos de loops:</p>
            
            <div class="comparison-grid">
                <div class="comparison-item">
                    <h4>üî¢ FOR TRADICIONAL</h4>
                    <div class="code-block">let frutas = ["üçé", "üçå", "üçä"];

// Cuando necesitas el √≠ndice
for (let i = 0; i < frutas.length; i++) {
    console.log(`${i}: ${frutas[i]}`);
}</div>
                </div>

                <div class="comparison-item">
                    <h4>‚ú® FOR...OF</h4>
                    <div class="code-block">let frutas = ["üçé", "üçå", "üçä"];

// Cuando solo necesitas el valor
for (let fruta of frutas) {
    console.log(`Me gusta: ${fruta}`);
}</div>
                </div>
            </div>

            <div class="comparison-item" style="margin-top: 2rem;">
                <h4>‚è≥ WHILE</h4>
                <div class="code-block">let frutas = ["üçé", "üçå", "üçä"];
let frutaFavorita = "üçå";
let indice = 0;
let encontrada = false;

// Cuando no sabes cu√°ntas iteraciones necesitas
while (indice < frutas.length && !encontrada) {
    if (frutas[indice] === frutaFavorita) {
        console.log(`¬°Encontr√© mi fruta favorita en posici√≥n ${indice}!`);
        encontrada = true;
    }
    indice++;
}</div>
            </div>

            <div class="demo-controls">
                <button class="btn" onclick="demoComparacionLoops()">‚öñÔ∏è Ver Comparaci√≥n</button>
            </div>

            <div class="console-output" id="consoleComparacionLoops">Presiona el bot√≥n para ver el resultado...</div>
        </div>

        <!-- DEMO 5: CASOS PR√ÅCTICOS -->
        <div class="demo-section">
            <h2>üéØ Demo 4: Casos Pr√°cticos</h2>
            <p>Ejemplos reales donde estos loops son √∫tiles en tu proyecto:</p>
            
            <div class="code-block">// CASO 1: Validar formulario hasta que est√© correcto (while)
function validarPassword() {
    let intentos = 0;
    let passwordCorrecta = false;
    let maxIntentos = 3;
    
    while (!passwordCorrecta && intentos < maxIntentos) {
        intentos++;
        console.log(`Intento ${intentos} de validaci√≥n...`);
        
        // Simular validaci√≥n
        let esValida = Math.random() > 0.5;
        if (esValida) {
            console.log("‚úÖ Password v√°lida");
            passwordCorrecta = true;
        } else {
            console.log("‚ùå Password inv√°lida");
        }
    }
    
    if (!passwordCorrecta) {
        console.log("üö´ M√°ximo de intentos alcanzado");
    }
}

// CASO 2: Mostrar navegaci√≥n (for...of)
let paginasMenu = [
    { nombre: "Inicio", url: "index.html" },
    { nombre: "Sobre m√≠", url: "about.html" },
    { nombre: "Proyectos", url: "projects.html" },
    { nombre: "Contacto", url: "contact.html" }
];

console.log("\n=== Generando navegaci√≥n ===");
for (let pagina of paginasMenu) {
    console.log(`<a href="${pagina.url}">${pagina.nombre}</a>`);
}

// CASO 3: Estad√≠sticas de proyecto (for...of)
let proyectos = [
    { nombre: "Portfolio", lenguajes: ["HTML", "CSS", "JS"], completado: true },
    { nombre: "Blog", lenguajes: ["HTML", "CSS"], completado: false },
    { nombre: "Tienda", lenguajes: ["HTML", "CSS", "JS", "React"], completado: false }
];

let completados = 0;
let totalLenguajes = 0;

for (let proyecto of proyectos) {
    if (proyecto.completado) {
        completados++;
    }
    totalLenguajes += proyecto.lenguajes.length;
    console.log(`${proyecto.nombre}: ${proyecto.lenguajes.join(", ")}`);
}

console.log(`\nüìä Estad√≠sticas:`);
console.log(`Proyectos completados: ${completados}/${proyectos.length}`);
console.log(`Promedio de lenguajes por proyecto: ${(totalLenguajes / proyectos.length).toFixed(1)}`);</div>

            <div class="demo-controls">
                <button class="btn" onclick="demoCasosPracticos()">üéØ Ver Casos Pr√°cticos</button>
            </div>

            <div class="console-output" id="consoleCasosPracticos">Presiona el bot√≥n para ver el resultado...</div>
        </div>

        <!-- GU√çA DE DECISI√ìN -->
        <div class="demo-section">
            <h2>üß≠ Gu√≠a de Decisi√≥n: ¬øQu√© loop usar?</h2>
            
            <div class="highlight-box">
                <h3>üî¢ Usa FOR TRADICIONAL cuando:</h3>
                <ul>
                    <li>‚úÖ Necesitas el √≠ndice de cada elemento</li>
                    <li>‚úÖ Quieres iterar con un patr√≥n espec√≠fico (de 2 en 2, hacia atr√°s, etc.)</li>
                    <li>‚úÖ Necesitas control preciso sobre el inicio, fin y incremento</li>
                </ul>
            </div>

            <div class="highlight-box">
                <h3>‚ú® Usa FOR...OF cuando:</h3>
                <ul>
                    <li>‚úÖ Solo necesitas los valores del array</li>
                    <li>‚úÖ Quieres c√≥digo m√°s limpio y legible</li>
                    <li>‚úÖ Vas a procesar todos los elementos del array</li>
                </ul>
            </div>

            <div class="highlight-box">
                <h3>‚è≥ Usa WHILE cuando:</h3>
                <ul>
                    <li>‚úÖ No sabes cu√°ntas iteraciones necesitas</li>
                    <li>‚úÖ La condici√≥n de parada es compleja</li>
                    <li>‚úÖ Necesitas buscar algo espec√≠fico</li>
                    <li>‚úÖ Quieres validar hasta que algo sea correcto</li>
                </ul>
            </div>

            <div class="warning-box">
                <h3>üéØ Regla de oro:</h3>
                <p><strong>Elige el loop que haga tu c√≥digo m√°s claro y f√°cil de entender.</strong> En la pr√≥xima clase veremos que hay m√©todos como forEach, map y filter que pueden ser a√∫n m√°s elegantes para ciertos casos.</p>
            </div>
        </div>
    </div>

    <script>
        /* 
        ===================================
        NOTAS PARA EL PROFESOR - TIMING
        ===================================
        
        üéØ DEMO 1 (Repaso FOR): 3-4 minutos
        - R√°pido repaso de for tradicional
        - Conectar con conocimiento previo
        
        üéØ DEMO 2 (While): 7-8 minutos
        - Explicar concepto de "no saber cu√°ntas iteraciones"
        - Enfatizar importancia de evitar bucles infinitos
        - Mostrar casos donde while es mejor que for
        
        üéØ DEMO 3 (For...of): 5-6 minutos
        - Mostrar elegancia del c√≥digo
        - Comparar directamente con for tradicional
        - Explicar cu√°ndo es mejor usar cada uno
        
        üéØ DEMO 4 (Comparaci√≥n): 4-5 minutos
        - Mismo problema, tres soluciones
        - Enfatizar las diferencias
        
        üéØ DEMO 5 (Casos pr√°cticos): 5-6 minutos
        - Conectar con proyectos reales
        - Ejemplos que usar√°n en su proyecto personal
        
        TOTAL: ~25 minutos (perfecto para la secci√≥n de 25 min del cronograma)
        
        ===================================
        PUNTOS CLAVE A ENFATIZAR:
        ===================================
        
        1. While para condiciones din√°micas
        2. For...of para c√≥digo m√°s elegante  
        3. For tradicional cuando necesitas √≠ndice
        4. Siempre evitar bucles infinitos
        5. Elegir el loop que hace el c√≥digo m√°s claro
        
        ===================================
        PREPARACI√ìN PARA FUNCIONES (Clase 6):
        ===================================
        
        Estos ejemplos ya usan algunas funciones simples que se explicar√°n
        en la siguiente secci√≥n de la clase. Los estudiantes ver√°n que
        podemos organizar este c√≥digo en funciones reutilizables.
        */

        // ===== FUNCIONES PARA DEMOS =====

        function demoForTradicional() {
            const output = document.getElementById('consoleForTradicional');
            output.textContent = ''; // Limpiar
            
            let resultado = '';
            
            // Demo 1: For con √≠ndice
            resultado += '=== FOR TRADICIONAL - Con √≠ndice ===\n';
            let proyectos = ["Portfolio", "Blog", "Tienda"];
            
            for (let i = 0; i < proyectos.length; i++) {
                resultado += `Proyecto ${i + 1}: ${proyectos[i]}\n`;
            }
            
            resultado += '\n=== FOR TRADICIONAL - Tabla de multiplicar ===\n';
            for (let j = 1; j <= 5; j++) {
                resultado += `Tabla del 3: 3 x ${j} = ${3 * j}\n`;
            }
            
            output.textContent = resultado;
        }

        function demoWhileLoops() {
            const output = document.getElementById('consoleWhileLoops');
            output.textContent = '';
            
            let resultado = '';
            
            // Demo 1: Buscar hasta encontrar
            resultado += '=== WHILE LOOP - Buscar elemento ===\n';
            let nombres = ["Ana", "Carlos", "Mar√≠a", "Pedro"];
            let buscando = "Mar√≠a";
            let encontrado = false;
            let contador = 0;
            
            while (!encontrado && contador < nombres.length) {
                if (nombres[contador] === buscando) {
                    resultado += `¬°Encontr√© a ${buscando} en la posici√≥n ${contador}!\n`;
                    encontrado = true;
                } else {
                    resultado += `Revisando: ${nombres[contador]} - no es ${buscando}\n`;
                }
                contador++;
            }
            
            // Demo 2: Contador din√°mico
            resultado += '\n=== WHILE LOOP - Puntos aleatorios ===\n';
            let puntos = 0;
            let nivel = 1;
            
            while (puntos < 100) {
                let puntosGanados = Math.floor(Math.random() * 20) + 1;
                puntos += puntosGanados;
                resultado += `Nivel ${nivel}: +${puntosGanados} puntos (Total: ${puntos})\n`;
                nivel++;
            }
            resultado += `¬°Alcanzaste 100+ puntos en ${nivel - 1} niveles!\n`;
            
            output.textContent = resultado;
        }

        function demoForOfLoops() {
            const output = document.getElementById('consoleForOfLoops');
            output.textContent = '';
            
            let resultado = '';
            
            // Demo 1: Iteraci√≥n simple
            resultado += '=== FOR...OF - Tecnolog√≠as ===\n';
            let tecnologias = ["HTML", "CSS", "JavaScript", "React"];
            
            for (let tecnologia of tecnologias) {
                resultado += `Aprendiendo: ${tecnologia}\n`;
            }
            
            // Demo 2: Objetos en arrays
            resultado += '\n=== FOR...OF - Estudiantes ===\n';
            let estudiantes = [
                { nombre: "Ana", nota: 85 },
                { nombre: "Carlos", nota: 92 },
                { nombre: "Mar√≠a", nota: 78 }
            ];
            
            for (let estudiante of estudiantes) {
                let estado = estudiante.nota >= 80 ? "Aprobado ‚úÖ" : "Necesita mejorar ‚ö†Ô∏è";
                resultado += `${estudiante.nombre}: ${estudiante.nota} - ${estado}\n`;
            }
            
            // Demo 3: Sumar valores
            resultado += '\n=== FOR...OF - C√°lculo total ===\n';
            let precios = [15.50, 23.75, 8.20, 45.00];
            let total = 0;
            
            for (let precio of precios) {
                total += precio;
                resultado += `Agregando: $${precio.toFixed(2)}\n`;
            }
            resultado += `Total de compra: $${total.toFixed(2)}\n`;
            
            output.textContent = resultado;
        }

        function demoComparacionLoops() {
            const output = document.getElementById('consoleComparacionLoops');
            output.textContent = '';
            
            let resultado = '';
            let frutas = ["üçé", "üçå", "üçä"];
            
            // For tradicional
            resultado += '=== FOR TRADICIONAL (con √≠ndice) ===\n';
            for (let i = 0; i < frutas.length; i++) {
                resultado += `${i}: ${frutas[i]}\n`;
            }
            
            // For...of
            resultado += '\n=== FOR...OF (solo valores) ===\n';
            for (let fruta of frutas) {
                resultado += `Me gusta: ${fruta}\n`;
            }
            
            // While
            resultado += '\n=== WHILE (buscar espec√≠fico) ===\n';
            let frutaFavorita = "üçå";
            let indice = 0;
            let encontrada = false;
            
            while (indice < frutas.length && !encontrada) {
                if (frutas[indice] === frutaFavorita) {
                    resultado += `¬°Encontr√© mi fruta favorita en posici√≥n ${indice}!\n`;
                    encontrada = true;
                } else {
                    resultado += `Revisando posici√≥n ${indice}: ${frutas[indice]}\n`;
                }
                indice++;
            }
            
            resultado += '\nüí° Cada loop tiene su prop√≥sito espec√≠fico\n';
            
            output.textContent = resultado;
        }

        function demoCasosPracticos() {
            const output = document.getElementById('consoleCasosPracticos');
            output.textContent = '';
            
            let resultado = '';
            
            // Caso 1: Validaci√≥n con while
            resultado += '=== CASO 1: Validaci√≥n con WHILE ===\n';
            let intentos = 0;
            let passwordCorrecta = false;
            let maxIntentos = 3;
            
            while (!passwordCorrecta && intentos < maxIntentos) {
                intentos++;
                resultado += `Intento ${intentos} de validaci√≥n...\n`;
                
                // Simular validaci√≥n aleatoria
                let esValida = Math.random() > 0.6; // 40% probabilidad
                if (esValida) {
                    resultado += "‚úÖ Password v√°lida\n";
                    passwordCorrecta = true;
                } else {
                    resultado += "‚ùå Password inv√°lida\n";
                }
            }
            
            if (!passwordCorrecta) {
                resultado += "üö´ M√°ximo de intentos alcanzado\n";
            }
            
            // Caso 2: Navegaci√≥n
            resultado += '\n=== CASO 2: Navegaci√≥n con FOR...OF ===\n';
            let paginasMenu = [
                { nombre: "Inicio", url: "index.html" },
                { nombre: "Sobre m√≠", url: "about.html" },
                { nombre: "Proyectos", url: "projects.html" },
                { nombre: "Contacto", url: "contact.html" }
            ];
            
            for (let pagina of paginasMenu) {
                resultado += `<a href="${pagina.url}">${pagina.nombre}</a>\n`;
            }
            
            // Caso 3: Estad√≠sticas
            resultado += '\n=== CASO 3: Estad√≠sticas de proyectos ===\n';
            let proyectos = [
                { nombre: "Portfolio", lenguajes: ["HTML", "CSS", "JS"], completado: true },
                { nombre: "Blog", lenguajes: ["HTML", "CSS"], completado: false },
                { nombre: "Tienda", lenguajes: ["HTML", "CSS", "JS", "React"], completado: false }
            ];
            
            let completados = 0;
            let totalLenguajes = 0;
            
            for (let proyecto of proyectos) {
                if (proyecto.completado) {
                    completados++;
                }
                totalLenguajes += proyecto.lenguajes.length;
                resultado += `${proyecto.nombre}: ${proyecto.lenguajes.join(", ")}\n`;
            }
            
            resultado += `\nüìä Estad√≠sticas:\n`;
            resultado += `Proyectos completados: ${completados}/${proyectos.length}\n`;
            resultado += `Promedio de lenguajes: ${(totalLenguajes / proyectos.length).toFixed(1)}\n`;
            
            output.textContent = resultado;
        }

        // ===== FUNCI√ìN PARA LIMPIAR TODAS LAS CONSOLAS =====
        function limpiarConsolas() {
            const consolas = [
                'consoleForTradicional',
                'consoleWhileLoops', 
                'consoleForOfLoops',
                'consoleComparacionLoops',
                'consoleCasosPracticos'
            ];
            
            consolas.forEach(id => {
                const elemento = document.getElementById(id);
                if (elemento) {
                    elemento.textContent = 'Consola limpiada...';
                }
            });
        }

        // ===== EJECUTAR DEMO AUTOM√ÅTICO AL CARGAR (OPCIONAL) =====
        window.addEventListener('load', function() {
            console.log('üîÑ Ejemplo 3: Loops Avanzados cargado correctamente');
            console.log('üí° Usa los botones para explorar diferentes tipos de loops');
            
            // Mostrar mensaje inicial en la primera consola
            setTimeout(() => {
                const primeraConsola = document.getElementById('consoleForTradicional');
                if (primeraConsola && primeraConsola.textContent === 'Presiona el bot√≥n para ver el resultado...') {
                    primeraConsola.textContent = 'üëÜ Presiona el bot√≥n azul para comenzar la demostraci√≥n\n\nüí° Este ejemplo muestra las diferencias entre:\n‚Ä¢ For tradicional (Clase 5)\n‚Ä¢ While loops (nuevo)\n‚Ä¢ For...of loops (nuevo)';
                }
            }, 1000);
        });

        /* 
        ===================================
        NOTAS ADICIONALES PARA EL PROFESOR
        ===================================
        
        üéØ FLUJO RECOMENDADO DE LA DEMOSTRACI√ìN:
        
        1. COMENZAR con repaso de for tradicional (conectar con Clase 5)
        2. INTRODUCIR while con ejemplos claros de "no saber cu√°ntas veces"
        3. MOSTRAR for...of como evoluci√≥n elegante del for tradicional
        4. COMPARAR los tres tipos lado a lado
        5. CONECTAR con casos reales del proyecto personal
        
        üö® ERRORES COMUNES A PREVENIR:
        
        ‚Ä¢ Bucles infinitos en while (siempre mencionar)
        ‚Ä¢ Confundir for...of con for...in (solo arrays por ahora)
        ‚Ä¢ Pensar que for...of es siempre mejor (necesidad del √≠ndice)
        
        üîó CONEXI√ìN CON RESTO DE CLASE 6:
        
        ‚Ä¢ Los casos pr√°cticos usan funciones b√°sicas (siguiente secci√≥n)
        ‚Ä¢ Las validaciones usan condicionales (secci√≥n anterior)
        ‚Ä¢ Los ejemplos preparan para m√©todos de arrays con callbacks
        
        ‚è∞ TIMING SUGERIDO:
        
        ‚Ä¢ Demo 1 (Repaso): 3 min
        ‚Ä¢ Demo 2 (While): 8 min  
        ‚Ä¢ Demo 3 (For...of): 6 min
        ‚Ä¢ Demo 4 (Comparaci√≥n): 4 min
        ‚Ä¢ Demo 5 (Casos pr√°cticos): 4 min
        ‚Ä¢ TOTAL: 25 minutos ‚úÖ
        
        üìù PREGUNTAS PARA VERIFICAR COMPRENSI√ìN:
        
        1. "¬øCu√°ndo usar√≠an while en lugar de for?"
        2. "¬øQu√© ventaja tiene for...of sobre for tradicional?"
        3. "¬øEn qu√© casos todav√≠a necesitamos for tradicional?"
        4. "¬øC√≥mo evitamos bucles infinitos en while?"
        
        üéØ OBJETIVO DE APRENDIZAJE:
        
        Al final de esta secci√≥n, los estudiantes deben poder:
        ‚Ä¢ Elegir el tipo de loop apropiado para cada situaci√≥n
        ‚Ä¢ Escribir while loops seguros (sin bucles infinitos)
        ‚Ä¢ Usar for...of para c√≥digo m√°s limpio
        ‚Ä¢ Aplicar estos conceptos en su proyecto personal
        */
    </script>
</body>
</html>
            